var PolygonPie=function(e){function r(e,t,n,r,i){return t+n*Math.cos(e*2*Math.PI/r)*i}function i(e,t,n,r,i){return t+n*Math.sin(e*2*Math.PI/r)*i}var t={x:150,y:150,radius:140,sides:6,background:{color:"#F5F5F5",lineColor:"#000000",lineWidth:3},segments:{color:["#EA8541","#F5BB1C","#9BC858","#8DCEEC","#6C3283","#DD131D"],percent:[100,100,100,100,100,100],lineWidth:1,lineColor:"#000000"},split:{color:"#F5F5F5",lineColor:"#000000",lineWidth:3}};if(e)var n=e;else var n=t;var s,o="";this.draw=function(e){s=e;this.centerX=n.x;this.centerY=n.y;this.size=n.radius;this.sides=n.sides;this.percents=n.segments.percent;this.segmentColors=n.segments.color;this.segmentLineColor=n.segments.lineColor;this.segmentLineWidth=n.segments.lineWidth;this.splitLineColor=n.split.lineColor;this.splitLineWidth=n.split.lineWidth;this.backgroundColor=n.background.color;this.backgroundLineColor=n.background.lineColor;this.backgroundLineWidth=n.background.lineWidth;for(var t=0;t<=this.sides;t+=1)if(t!=this.sides){var u=this.percents[t]/100,a=r(t,this.centerX,this.size,this.sides,1),f=i(t,this.centerY,this.size,this.sides,1),l=this.centerX+this.size*Math.cos(t*2*Math.PI/this.sides)*u,c=this.centerY+this.size*Math.sin(t*2*Math.PI/this.sides)*u,h=this.centerX+this.size*Math.cos((t+1)*2*Math.PI/this.sides)*u,p=this.centerY+this.size*Math.sin((t+1)*2*Math.PI/this.sides)*u,d=s.path("M "+this.centerX+" "+this.centerY+", L "+l+" "+c+", L "+h+" "+p+" Z");d.attr({stroke:this.segmentLineColor,"stroke-width":this.segmentLineWidth,fill:this.segmentColors[t]});var v=s.path("M "+this.centerX+" "+this.centerY+", L "+a+" "+f+", L "+a+" "+f+" Z").toFront();v.attr({stroke:this.splitLineColor,"stroke-width":this.splitLineWidth});d.id="segment"+t;o+=(t==0?"M":"L")+a+","+f}o+="Z";var m=s.path(o).toBack();m.attr({stroke:this.backgroundLineColor,"stroke-width":this.backgroundLineWidth,fill:this.backgroundColor})};this.setPercent=function(e,t){var t=t/100,o=s.getById("segment"+e),u=r(e,this.centerX,this.size,this.sides,t),a=i(e,this.centerX,this.size,this.sides,t),f=r(e+1,this.centerX,this.size,this.sides,t),l=i(e+1,this.centerX,this.size,this.sides,t);o.attr({path:"M"+n.x+" "+n.y+", L"+u+" "+a+", L"+f+" "+l+" Z"})}};